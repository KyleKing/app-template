amends "package://github.com/jdx/hk/releases/download/v1.2.0/hk@1.2.0#/Config.pkl"

hooks {
    ["pre-commit"] {
        fix = true
        steps {
            ["bench"] {
                glob = "*_bench.ts"
                check = "deno task bench"
            }
            ["biome"] {
                glob = "*.ts"
                check = "deno task biome:check {{files}}"
                fix = "deno task biome:fix {{files}}"
            }
            ["check"] {
                glob = "*.ts"
                check = "deno check"
            }
            ["fmt"] {
                check = "deno task fmt --check {{files}}"
                fix = "deno task fmt {{files}}"
            }
            ["test"] {
                glob = "*_test.ts"
                check = "deno task test"
            }
            ["test:e2e"] {
                glob = "*.ts"
                check = "deno task test:e2e --project=chrome"
                // profiles = "slow")
            }
        }
    }
}
